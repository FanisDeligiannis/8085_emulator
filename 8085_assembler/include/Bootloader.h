#pragma once

#include <string>

//This is my bootloader of 8085.

std::string Bootloader = R"(

RST0 EQU 0000H
RST1 EQU 0008H
RST2 EQU 0010H
RST3 EQU 0018H
RST4 EQU 0020H
RST5 EQU 0028H
RST6 EQU 0030H
RST7 EQU 0038H
RST45 EQU 0024H
RST55 EQU 002CH
RST65 EQU 0034H
RST75 EQU 003CH
CODE EQU 0800H

ORG 0000H
	JMP CODE

ORG 0008H
	RET
ORG 0010H
	RET
ORG 0018H
	RET
ORG 0020H
	RET
ORG 0028H
	RET
ORG 0030H
	RET
ORG 0038H
	RET
ORG 0024H
	RET
ORG 002CH
	RET
ORG 0034H
	RET
ORG 003CH
	RET

ORG 0100H

DCD:
	PUSH PSW
	MVI A,02H
	OUT 56H
	POP PSW
	RET

STDM:
	PUSH PSW
	XCHG
	
	MOV A,M
	CALL _STDM1
	OUT 55H
 	INX H
	MOV A,M
	CALL _STDM1
	OUT 54H
	INX H
	MOV A,M
	CALL _STDM1
	OUT 53H
	INX H
	MOV A,M
	CALL _STDM1
	OUT 52H
	INX H
	MOV A,M
	CALL _STDM1
	OUT 51H
	INX H
	MOV A,M
	CALL _STDM1
	OUT 50H
	XCHG
	POP PSW
	RET
	
_STDM1: ;CONVERT TO PROPER FORMAT
	ANI 0FH
	CPI 0AH
	JC _STDM3
	
_STDM2: ; BIGGER/EQUAL TO 0AH
	ADI 37H
	RET
	
_STDM3: ; SMALLER THAN 0AH
	ADI 30H
	RET

STDC: ; Store Display character
	PUSH PSW
	XCHG
	MOV A,M
	OUT 55H
 	INX H
	MOV A,M
	OUT 54H
	INX H
	MOV A,M
	OUT 53H
	INX H
	MOV A,M
	OUT 52H
	INX H
	MOV A,M
	OUT 51H
	INX H
	MOV A,M
	OUT 50H
	XCHG
	POP PSW
	RET

ORG CODE
)";